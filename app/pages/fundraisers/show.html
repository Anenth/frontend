<ul class="breadcrumb">
  <li><a href="/">Home</a><span class="divider">»</span></li>
  <li><a href="/fundraisers">Fundraisers</a><span class="divider">»</span></li>
  <li>
    <a ng-show="new">New Fundraiser</a>
    <a ng-hide="new" href="/fundraisers/{{fundraiser.id}}">{{ fundraiser.title || 'Loading...' }}</a>
  </li>
</ul>

<form class="form">
  <div class="alert alert-info" ng-show="new || edit">
    <p ng-show="new">You are creating a new fundraiser.</p>
    <p ng-show="edit">You are editing a fundraiser.</p>

    <button ng-show="new" ng-click="save()" class="btn btn-primary">Create</button>
    <button ng-show="!new && edit" ng-click="save()" class="btn btn-primary">Save</button>
    <button ng-click="cancel()" class="btn">Cancel</button>
  </div>

  <div class="row-fluid">
    <div class="span8">
      <div ng-hide="new || edit">
        <button ng-click="edit = true" class="btn">
          <i class="icon-cog"></i>
          Edit Fundraiser
        </button>
      </div>

      <div class="page-header" id="fundraiser-title">
        <h1>
          <span ng-hide="new || edit">{{ fr_title || 'Loading...' }}</span>
          <input ng-show="edit || new" type="text" ng-model="fr_title" placeholder="Fundraiser title goes here" />
        </h1>

        <span class="muted">
          <span ng-show="new || edit">A fundraiser by <a href="/people/{{ current_person.slug }}">{{ current_person.display_name }}</a></span>
          <span ng-hide="new || edit" ng-show="fundraiser">A fundraiser by <a href="/people/{{ fundraiser.person.slug }}">{{ fundraiser.person.display_name }}</a></span>
        </span>
      </div>

      <tabs>
        <pane heading="Overview">
          <ng-include src="'pages/fundraisers/partials/overview.html'"></ng-include>
        </pane>

        <pane heading="Updates ({{ fundraiser.updates.length }})">
          <ng-include src="'pages/fundraisers/partials/updates.html'"></ng-include>
        </pane>

        <pane heading="Pledges ({{ fundraiser.pledge_count }})">
          <ng-include src="'pages/fundraisers/partials/pledges.html'"></ng-include>
        </pane>
      </tabs>
    </div>

    <div class="span4">
      <div class="well">
        <div><img src="{{fundraiser.person.image_url}}" /></div>
        <h3>{{fundraiser.person.display_name}}</h3>
      </div>

      <div class="well">
        {{ fundraiser.short_description }}
      </div>

      <div class="well">
        <ul>
          <li>Pledges: {{fundraiser.pledge_count}}</li>
          <li>Raised: {{fundraiser.total_pledged | currency }} of {{fundraiser.funding_goal | currency}}</li>
          <li>Days remaining: {{fundraiser.days_remaining}}</li>
        </ul>
      </div>

      <div ng-repeat="reward in fundraiser.rewards" class="well">
        <div><button class="btn btn-primary btn-large" type="button">{{reward.amount | currency}}</button></div>
        <div>{{reward.description}}</div>
      </div>
    </div>
  </div>
</form>
