/*! bountysource.js 2.0.0 2013-06-10 */
with(scope())initializer(function(){var a=Storage.get("environment")||"prod";switch(a){case"dev":Storage.namespace="dev",Bountysource.api_host="http://api.bountysource.dev/";break;case"qa":Storage.namespace="qa",Bountysource.api_host="https://api-qa.bountysource.com/";break;case"test":Storage.namespace="test",Bountysource.api_host="http://test.example/";break;case"prod":Storage.namespace="prod",Bountysource.api_host="https://api.bountysource.com/"}}),define("set_environment",function(a){Storage.namespace=null,Storage.set("environment",a),document.location.reload()}),after_filter("add_dev_mode_bar",function(){document.getElementById("dev-bar")||document.body.appendChild(div({id:"dev-bar",style:"position: fixed; bottom: 0; right: 0; background: white; color: black; padding: 5px; z-index: 200; box-shadow: 0 0 5px rgba(0,0,0,0.5)"},"http://test.example/"==Bountysource.api_host?[b("test")," | "]:[],"http://api.bountysource.dev/"==Bountysource.api_host?b("dev"):a({href:curry(set_environment,"dev")},"dev")," | ","https://api-qa.bountysource.com/"==Bountysource.api_host?b("qa"):a({href:curry(set_environment,"qa")},"qa")," | ","https://api.bountysource.com/"==Bountysource.api_host?b("prod"):a({href:curry(set_environment,"prod")},"prod")))});with(scope("Bountysource"))define("api_path","https://api.bountysource.com/"),define("attribute",function(){console.log("ATTRIBUTE: ",arguments)});with(scope("Fundraiser","Bountysource"))attribute("title","description"),define("find",function(a){JSONP.get({url:api_path+"fundraisers/"+a,callback:function(a){console.log(a)}})});with(scope("Person","Bountysource"))define("find",function(a){JSONP.get({url:url+"/"+a,callback:function(a){console.log(a)}})}),define("github_auth_url",function(a){return a=a||{},Bountysource.api_host+"auth/github?scope="+(a.scope||"")+"&access_token="+(get("person")?get("person").access_token:"")+"&redirect_url="+encode_html(window.location.href)}),define("facebook_auth_url",function(a){return a=a||{},Bountysource.api_host+"auth/facebook?scope="+(a.scope||"email")+"&access_token="+(get("person")?get("person").access_token:"")+"&redirect_url="+encode_html(window.location.href)}),define("twitter_auth_url",function(a){return a=a||{},Bountysource.api_host+"auth/twitter?scope="+(a.scope||"")+"&access_token="+(get("person")?get("person").access_token:"")+"&redirect_url="+encode_html(window.location.href)});with(scope())route("#fundraisers/:fundraiser_id",function(b){var c=Fundraiser.find(b);render(ul({"class":"breadcrumb"},li(a({href:"#"},"Home"),span({"class":"divider"},"»")),li(a({href:"#"},"Fundraisers"),span({"class":"divider"},"»")),li(a({href:"#"},c.title))),div({"class":"row-fluid issue-show"},div({"class":"span9"},div({"class":"well",style:"color: #333"},h3(c.title),p(c.description)),ul({"class":"nav nav-tabs"},li({"class":"active"},a({href:"#"},"Details")),li(a({href:"#"},"Updates (10)")),li(a({href:"#"},"Comments (35)")))),div({"class":"span3"},div({"class":"alert alert-success",style:"color: #333"},h3("Backers ($0)"),p("lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce nec ipsum dui, non placerat nulla. Phasellus et tortor tortor, ut sagittis eros. Vestibulum molestie dictum neque, ")))))});with(scope())route("#",function(){render(div({"class":"alert alert-success text-center",style:"color: #333"},h2("The funding platform for open-source software."),p({"class":"lead"},"Use bounties and fundraisers to improve the open-source projects you love!"),p(a({href:"#about","class":"btn btn-success"},"Learn how it works"))),div({"class":"row-fluid homepage"},div({"class":"span3"},div({"class":"well card",style:"color: #333"},div({"class":"image"},img({src:"https://c10078377.ssl.cf2.rackcdn.com/38d0de99945b4ed4b7cf1a3b5ab40625.png"})),div({"class":"content"},h2("Farwest"),p("by lhoguin"),p("Farwest allows front-end developers to write Erlang-powered applications without having to write any Erlang code."),p("$125 pledged"),p("88days left"))),div({"class":"alert alert-info",style:"color: #333"},a({href:"#issues/123"},"Some issue ($50000)"),br(),a({href:"#trackers/123"},"Some tracker ($50000)"),br(),a({href:"#fundraisers/123"},"Some fundraiser ($50000)")),p("lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce nec ipsum dui, non placerat nulla. Phasellus et tortor tortor, ut sagittis eros. Vestibulum molestie dictum neque, non volutpat nisi blandit et. Sed eu aliquam lorem. Ut a orci ante, at varius elit. Pellentesque et lorem a quam volutpat tristique. In semper ultricies mauris, a gravida lacus egestas a. Suspendisse posuere egestas quam iaculis ullamcorper. Vestibulum eget molestie metus.")),div({"class":"span3"},div({"class":"well card",style:"color: #333"},div({"class":"image"},img({src:"https://c10078377.ssl.cf2.rackcdn.com/651178082af3e23f5fe09b216253c938.png"})),div({"class":"content"},h2("Kivy on Raspberry Pi"),p("by lhoguin"),p("Farwest allows front-end developers to write Erlang-powered applications without having to write any Erlang code."),p("$125 pledged"),p("88days left"))),p("lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce nec ipsum dui, non placerat nulla. Phasellus et tortor tortor, ut sagittis eros. Vestibulum molestie dictum neque, non volutpat nisi blandit et. Sed eu aliquam lorem. Ut a orci ante, at varius elit. Pellentesque et lorem a quam volutpat tristique. In semper ultricies mauris, a gravida lacus egestas a. Suspendisse posuere egestas quam iaculis ullamcorper. Vestibulum eget molestie metus."),p("Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce nec ipsum dui, non placerat nulla. Phasellus et tortor tortor, ut sagittis eros. Vestibulum molestie dictum neque, non volutpat nisi blandit et. Sed eu aliquam lorem. Ut a orci ante, at varius elit. Pellentesque et lorem a quam volutpat tristique. In semper ultricies mauris, a gravida lacus egestas a. Suspendisse posuere egestas quam iaculis ullamcorper. Vestibulum eget molestie metus.")),div({"class":"span3"},div({"class":"well card",style:"color: #333"},div({"class":"image"},img({src:"https://c10078377.ssl.cf2.rackcdn.com/1f3b49934d2f6557fc93c77e24ac2e20.png"})),div({"class":"content"},h2("Farwest"),p("by lhoguin"),p("Farwest allows front-end developers to write Erlang-powered applications without having to write any Erlang code."),p("$125 pledged"),p("88days left"))),p("lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce nec ipsum dui, non placerat nulla. Phasellus et tortor tortor, ut sagittis eros. Vestibulum molestie dictum neque, non volutpat nisi blandit et. Sed eu aliquam lorem. Ut a orci ante, at varius elit. Pellentesque et lorem a quam volutpat tristique. In semper ultricies mauris, a gravida lacus egestas a. Suspendisse posuere egestas quam iaculis ullamcorper. Vestibulum eget molestie metus."),p("Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce nec ipsum dui, non placerat nulla. Phasellus et tortor tortor, ut sagittis eros. Vestibulum molestie dictum neque, non volutpat nisi blandit et. Sed eu aliquam lorem. Ut a orci ante, at varius elit. Pellentesque et lorem a quam volutpat tristique. In semper ultricies mauris, a gravida lacus egestas a. Suspendisse posuere egestas quam iaculis ullamcorper. Vestibulum eget molestie metus.")),div({"class":"span3"},div({"class":"well card",style:"color: #333"},div({"class":"image"},img({src:"https://c10078377.ssl.cf2.rackcdn.com/ce1194dd6eb19069cf034f962810a94a.png"})),div({"class":"content"},h2("Farwest"),p("by lhoguin"),p("Farwest allows front-end developers to write Erlang-powered applications without having to write any Erlang code."),p("$125 pledged"),p("88days left"))),p("lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce nec ipsum dui, non placerat nulla. Phasellus et tortor tortor, ut sagittis eros. Vestibulum molestie dictum neque, non volutpat nisi blandit et. Sed eu aliquam lorem. Ut a orci ante, at varius elit. Pellentesque et lorem a quam volutpat tristique. In semper ultricies mauris, a gravida lacus egestas a. Suspendisse posuere egestas quam iaculis ullamcorper. Vestibulum eget molestie metus."),p("Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce nec ipsum dui, non placerat nulla. Phasellus et tortor tortor, ut sagittis eros. Vestibulum molestie dictum neque, non volutpat nisi blandit et. Sed eu aliquam lorem. Ut a orci ante, at varius elit. Pellentesque et lorem a quam volutpat tristique. In semper ultricies mauris, a gravida lacus egestas a. Suspendisse posuere egestas quam iaculis ullamcorper. Vestibulum eget molestie metus."))))});with(scope())define("issue",{title:"Split pane feature"}),route("#issues/:issue_id",function(){render(ul({"class":"breadcrumb"},li(a({href:"#"},"Home"),span({"class":"divider"},"»")),li(a({href:"#"},"Trac"),span({"class":"divider"},"»")),li(a({href:"#"},"#4553: Stuff here"))),div({"class":"row-fluid issue-show"},div({"class":"span9"},div({"class":"well",style:"color: #333"},h3(issue.title),p("lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce nec ipsum dui, non placerat nulla. Phasellus et tortor tortor, ut sagittis eros. Vestibulum molestie dictum neque, ")),ul({"class":"nav nav-tabs"},li({"class":"active"},a({href:"#"},"Comments (10)")),li(a({href:"#"},"Bounties")),li(a({href:"#"},"History"))),[1,1,1,1,1,1,1,1,1,1].map(function(){return div({"class":"well",style:"color: #333"},h5("John said fdsafds"),p("stuff here"))})),div({"class":"span3"},div({"class":"alert alert-success",style:"color: #333"},h3("Bounties ($0)"),p("lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce nec ipsum dui, non placerat nulla. Phasellus et tortor tortor, ut sagittis eros. Vestibulum molestie dictum neque, ")),div({"class":"alert alert-info",style:"color: #333"},h3("Developers"),p("lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce nec ipsum dui, non placerat nulla. Phasellus et tortor tortor, ut sagittis eros. Vestibulum molestie dictum neque, ")),div({"class":"alert alert-warning",style:"color: #333"},h3("Developers"),p("lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce nec ipsum dui, non placerat nulla. Phasellus et tortor tortor, ut sagittis eros. Vestibulum molestie dictum neque, ")),div({"class":"alert alert-error",style:"color: #333"},h3("Developers"),p("lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce nec ipsum dui, non placerat nulla. Phasellus et tortor tortor, ut sagittis eros. Vestibulum molestie dictum neque, ")))))});with(scope())layout("default",function(){return console.log("CALLING DEFAULT LAYOUT, OMG"),div(chatroom,navbar,div({"class":"container"},arguments))}),define("navbar",function(){return div({"class":"navbar navbar-fixed-top"},div({"class":"navbar-inner"},div({"class":"container"},a({"class":"btn btn-navbar","data-toggle":"collapse","data-target":".nav-collapse"},span({"class":"icon-bar"}),span({"class":"icon-bar"}),span({"class":"icon-bar"})),a({"class":"brand",href:"#"},strong("Bountysource")),div({"class":"nav-collapse collapse"},form({"class":"navbar-search"},div({"class":"icon-search"}),input({type:"text","class":"search-query",placeholder:"Issue URL, Project, Language, etc."})),ul({"class":"nav pull-right"},li(a({href:"#"},"About")),li(a({href:"#"},"Explore")),li(a({href:"#"},"Blog")),chatroom_dropup,account_dropdown)))))}),define("account_dropdown",function(){return li({"class":"dropdown"},a({href:"#signin","class":"dropdown-toggle","data-toggle":"dropdown"},get("person")?get("person").display_name:"Sign In",b({"class":"caret"})),ul({"class":"dropdown-menu"},get("person")?[li(a({href:"#"},"Balance: ",get("person").account_balance)),li({"class":"divider"}),li(a({href:"#fundraisers"},"Fundraisers")),li(a({href:"#solutions"},"Bounties")),li(a({href:"#account"},"Settings")),li(a({href:"#"},"Logout"))]:[li({style:"padding-left: 10px"},"Using:"),li(a({href:Person.github_auth_url()},img({src:"images/favicon-github.png"})," GitHub")),li(a({href:Person.facebook_auth_url()},img({src:"images/favicon-facebook.png"})," Facebook")),li(a({href:Person.twitter_auth_url()},img({src:"images/favicon-twitter.png"})," Twitter")),li(a({href:"#signin/email"},img({src:"images/favicon-email.png"})," Email Address"))]))}),define("breadcrumbs",function(){for(var a=[],b=0;b<arguments.length;b++){var c=[arguments[b]];b<arguments.length-1&&c.push(span({"class":"divider"},"»")),a.push(li(c))}return ul({"class":"breadcrumb"},a)});with(scope())define("chatroom",function(){var a=div({id:"chatroom"}),b=function(){return get("person")?get("person").display_name:"Guest"+Math.floor(99999*Math.random())},c=function(c){render({into:a},iframe({src:"http://localhost:12345/?nick="+(c.nick||b()),style:"display: none",onLoad:function(){console.log(this),show(this)}}))};return render({into:a},div({"class":"connect"},p({style:"text-align: center; padding-top: 10px"},"The #Bountysource IRC Chatroom is a place to communicate with other Bountysource users."),form({style:"text-align: center; padding-top: 10px",action:c},span("Nickname:"),text({"class":"input-text input-medium",name:"nick",style:"margin: 0 10px",placeholder:b}),submit({"class":"btn btn-success"},"Connect")))),a}),define("chatroom_dropup",function(){var c=li({"class":"dropdown dropup"}),d=function(){toggle_class(document.body,"chatroom"),toggle_class(c,"active")};return render({into:c},a({href:d,"class":"dropdown-toggle"},"Chatroom ",b({"class":"caret"}))),c});with(scope("People"))route("#signin",function(){render(h1("Please sign in to continue."))}),route("#signin/email",function(){render(breadcrumbs(a({href:"#"},"Home"),a({href:"#signin"},"Sign In"),"Email Address"),h1("Sign In with your Email Address"),p("Please enter your email address and a password. If you don't have a Bountysource account yet, we'll create one for you."),form({"class":"form-horizontal"},div({"class":"control-group success"},label({"class":"control-label","for":"inputEmail"},"Email:"),div({"class":"controls"},text({name:"email",placeholder:"john.doe@gmail.com",value:params.email}),span({"class":"help-inline"},"Email available!"))),div({"class":"control-group error"},label({"class":"control-label","for":"inputEmail"},"Password:"),div({"class":"controls"},password({placeholder:"abc123"}),span({"class":"help-inline"},"Password wrong!"))),div({"class":"control-group error"},label({"class":"control-label","for":"inputEmail"},"First and Last Name:"),div({"class":"controls"},text({"class":"input-small input-right-margin",placeholder:"John"}),text({"class":"input-small",placeholder:"Doe"}),span({"class":"help-inline"},"Required"))),div({"class":"control-group"},label({"class":"control-label","for":"inputEmail"},"Display Name:"),div({"class":"controls"},text({name:"email",placeholder:"John Doe"}))),div({"class":"control-group"},div({"class":"controls"},submit({"class":"btn btn-primary"},"Sign in")))))}),route("#auth/:provider",function(){alert("oh hai")}),define("auto_adjust_super_form_fields",function(a){null===a.email_is_registered?render({into:a.email_status_div}):a.email_is_registered===!0?render({into:a.email_status_div},"Email address found. Enter your password to Sign In."):a.email_is_registered===!1&&render({into:a.email_status_div},"Email address not yet registered."),(a.account_link_id&&a.account_link_id.match(/^(github|facebook|twitter):/)&&!a.email_is_registered?hide:show)(a.password_fieldset),render({into:a.password_label},a.email_is_registered===!1?"Create Password:":"Password:"),(a.email_is_registered===!1?show:hide)(a.signup_fields),null===a.email_is_registered?a.sign_in_up_button.value="Continue":a.email_is_registered===!0?a.sign_in_up_button.value="Sign In":a.email_is_registered===!1&&(a.sign_in_up_button.value="Sign Up")}),define("process_email_address_changed",function(a){a.sign_in_up_button.disabled=!0,BountySource.login({email:a.email.value},function(b){a.sign_in_up_button.disabled=!1,a.email_is_registered=b.data.email_is_registered,auto_adjust_super_form_fields(a)})}),define("save_user_data_and_redirect",function(a){var b=null,c=get_params();Storage.get("_redirect_to_after_login")?(b=Storage.get("_redirect_to_after_login"),Storage.clear("_redirect_to_after_login")):a.data.redirect_url?(b=a.data.redirect_url,delete a.data.redirect_url):b=c.redirect_url?c.redirect_url:"#","#signin"==b&&(b="#"),BountySource.set_access_token(a.data),set_route(b,{reload_page:!0})}),define("process_signin_form",function(b,c){render({into:b.error_div}),BountySource.login(c,function(d){d.meta.success?save_user_data_and_redirect(d):!d.data.email_is_registered&&is_visible(b.signup_fields)?BountySource.create_account(c,function(a){a.meta.success?save_user_data_and_redirect(a):render({into:b.error_div},error_message(a.data.error))}):(d.data.email_is_registered&&is_visible(b.password_fieldset)&&render({into:b.error_div},error_message("The password you entered is incorrect.  If you don't know what it is, you can ",a({style:"text-decoration: underline",href:curry(send_password_reset_email,b,c.email)},"reset your password via email"),".")),b.email_is_registered=d.data.email_is_registered,auto_adjust_super_form_fields(b))})}),define("send_password_reset_email",function(a,b){BountySource.request_password_reset({email:b},function(b){b.meta.success?render({into:a.error_div},success_message("Password reset email has been sent.")):render({into:a.error_div},error_message(b.data.error))})});with(scope())define("tracker",{name:"JSHint",issues:[{number:1,title:"Some awesome issue, omg yes",comment_count:5,total_bounties:30},{number:1,title:"Some awesome issue, omg yes",comment_count:5,total_bounties:30},{number:1,title:"Some awesome issue, omg yes",comment_count:5,total_bounties:30},{number:1,title:"Some awesome issue, omg yes",comment_count:5,total_bounties:30},{number:1,title:"Some awesome issue, omg yes",comment_count:5,total_bounties:30},{number:1,title:"Some awesome issue, omg yes",comment_count:5,total_bounties:30},{number:1,title:"Some awesome issue, omg yes",comment_count:5,total_bounties:30},{number:1,title:"Some awesome issue, omg yes",comment_count:5,total_bounties:30},{number:1,title:"Some awesome issue, omg yes",comment_count:5,total_bounties:30},{number:1,title:"Some awesome issue, omg yes",comment_count:5,total_bounties:30},{number:1,title:"Some awesome issue, omg yes",comment_count:5,total_bounties:30},{number:1,title:"Some awesome issue, omg yes",comment_count:5,total_bounties:30}]}),route("#trackers/:issue_id",function(){render(ul({"class":"breadcrumb"},li(a({href:"#"},"Home"),span({"class":"divider"},"»")),li(a({href:"#"},"JSHint"))),div({"class":"row-fluid issue-show"},div({"class":"span9"},div({"class":"well",style:"color: #333"},h3(tracker.name),p("lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce nec ipsum dui, non placerat nulla. Phasellus et tortor tortor, ut sagittis eros. Vestibulum molestie dictum neque, ")),ul({"class":"nav nav-tabs"},li({"class":"active"},a({href:"#"},"Popular Issues")),li(a({href:"#"},"Recent Issues")),li(a({href:"#"},"Past Issues"))),table({"class":"table table-hover table-bordered table-condensed"},tbody(tr(th("Number"),th("Title"),th("Comments"),th("Bounties")),tracker.issues.map(function(a){return tr({style:"cursor: pointer"},td(a.number),td(a.title),td(a.comment_count),td(a.total_bounties))})))),div({"class":"span3"},div({"class":"alert alert-success",style:"color: #333"},h3("Overview"),p("lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce nec ipsum dui, non placerat nulla. Phasellus et tortor tortor, ut sagittis eros. Vestibulum molestie dictum neque, ")))))});